!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title #{t(:name)} - The Card Game
    %meta{:charset => "utf-8"}/
    %meta{:content => "IE=edge", "http-equiv" => "X-UA-Compatible"}
    %meta{content: "width=device-width, user-scalable=yes, initial-scale=1, maximum-scale=1", name: :viewport}
    %meta{:content => "#{t(:name)}, the card game", :name => "description"}
    %meta{:content => "Ben, Greg, & Mike", :name => "author"}

    = stylesheet_link_tag    'application', media: 'all'
    = render 'application/favicon'

    / Custom Fonts
    %link{href: "https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic", rel: "stylesheet", type: "text/css"}
    %link{href: "https://fonts.googleapis.com/css?family=Montserrat:400,700", rel: "stylesheet", type: "text/css"}

    = csrf_meta_tags
    :javascript
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
      analytics.load("EtqkTpuzTRfuQcYuwOxVEHrcgTwG8PLt");
      analytics.page()
      }}();

  %body#page-top{"data-spy" => "scroll", "data-target" => ".navbar-fixed-top"}
    %nav.navbar.navbar-custom.navbar-fixed-top{:role => "navigation"}
      .container
        .navbar-header
          - target = @game.present? ? root_path : "#page-top"
          %a.navbar-brand.page-scroll{href: target}
            %i.fa.fa-play-circle
            #{t('name').upcase}
            - if @game.present? && @game.name.present?
              = "- \"#{@game.name}\""
              - if @round.present?
                = " - Round ##{@round}"

          - if @game.present? && @game.name.present?
            %ul.nav.navbar-nav.navbar-right
              %ul.nav.navbar-nav
                %li
                  = link_to "#", data: { toggle: "modal", target: "#rules-modal" } do
                    %h4{style: "margin: 0;"}
                      %i.fa.fa-book
                      Rules
                
    .body_content
      = yield

    = render 'layouts/footer'

  / TODO: move to head when webrtc logic wrapped up
  = stylesheet_link_tag 'bootstrap_and_overrides' # why is this not just part of application.sass
  = javascript_include_tag 'application' 
